@use "abstracts/mq" as *;
@use 'abstracts/variables' as *;
@use 'abstracts/functions' as *;
@use 'abstracts/mixins' as *;



@use 'base/root';
@use 'base/reset';
@use 'base/header';

@use 'components/modal';
@use 'components/button';
@use 'components/card';
@use 'components/form';
@use 'components/login';
@use 'components/table';
@use 'components/map';
@use 'components/icon';
@use 'components/paging';
@use 'components/tab';




/* ====== Design tokens ====== */
$font-system: 'Freesentation',
Segoe UI,
Roboto,
Noto Sans KR,
Apple SD Gothic Neo,
"Malgun Gothic",
Helvetica,
Arial,
"Apple Color Emoji",
"Segoe UI Emoji";

$line: #dddddd;

$sidebar-w: 260px;
$topbar-h: 64px;

html{
    width: 100%;
    height: 100%;
}
body {
    width: 100%;
    height: 100%;
    font-family: $font-system;
}

.a11y-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    clip: rect(0 0 0 0);
    clip-path: inset(50%);
    overflow: hidden;
    white-space: nowrap;
}


/* md 이상 (min-width: 768px~) */
.card {
  
  @include up(md) { }
}

/* lg 이하 (max-width: 1024px-) */
.grid {
  grid-template-columns: 1fr;
  @include down(lg) { gap: 12px; }
}

/* md ~ xl 사이 */
.title {
  font-size: 18px;
  @include between(md, xl) { font-size: 20px; }
}

/* sm only (sm ~ 다음 bp 직전) */
.nav {
  @include only(sm) { display: none; }
}


:root {
    --max-h: 92svh;
    --min-peek: 80px;
    --radius: 16px;
}

html,
body {
    height: 100%
}

body {
    margin: 0;
}

.sheet {
    position: fixed;
    left: 0;
    right: 0;
    bottom: 30px;
    z-index: 1000;
    background: #fff;
    border-top-left-radius: var(--radius);
    border-top-right-radius: var(--radius);
    /* 초기엔 실제 높이를 고정해서 계산이 맞게 */
    height: var(--max-h);
    /* ← 추가 */
    max-height: var(--max-h);
    box-shadow: 0 -8px 24px rgba(0, 0, 0, .18);

    /* 여기! 100vh → var(--max-h) 로 교체 */
    transform: translateY(calc(var(--max-h) - var(--min-peek)));

    will-change: transform;
    touch-action: none;
    display: grid;
    grid-template-rows: auto auto 1fr;
    padding-bottom: env(safe-area-inset-bottom);
    &--anim {
        transition: transform .22s cubic-bezier(.2, .8, .2, 1)
    }
    &-handle {
        padding: 8px 0 6px;
        display: grid;
        place-items: center;
        cursor: grab;
        .grip {
            width: 44px;
            height: 5px;
            border-radius: 999px;
            background: #d1d5db
        }
    }
    &-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 10px 14px;
        border-top: 1px solid #eee;
        touch-action: none;
        /* 드래그 제스처 전용 */
    }
    &-title {
        font-size: 16px;
        margin: 0
    }
    &-content {
        overflow: auto;
        -webkit-overflow-scrolling: touch;
        padding: 12px 14px 24px;
        touch-action: pan-y;
        /* 스크롤 있을 땐 스크롤 우선 */
        overflow: auto;
        -webkit-overflow-scrolling: touch;
        overscroll-behavior: contain;
    }
}
